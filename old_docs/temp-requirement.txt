# 배당 포트폴리오 관리기 - 요구사항 명세서

## 1. 개요

본 문서는 '배당 포트폴리오 관리기' 소프트웨어의 기능 및 비기능적 요구사항을 정의합니다. 본 프로그램의 목적은 사용자가 한국 및 미국 주식/ETF 시장의 관심 종목을 등록하고, 배당 정보를 기반으로 최적의 배당 투자 포트폴리오를 구성하고 비교/관리하며, Gemini AI를 통해 포트폴리오에 대한 분석 및 제안을 받는 데 도움을 주는 것입니다.

## 2. 사용자 시나리오 (User Scenarios)

- **시나리오 1: 신규 사용자 (v2.0)**
 1. 사용자는 프로그램을 실행하고, 미국 주식(예: AAPL)과 한국 주식(예: 005930)을 국가 선택 드롭다운을 이용해 **Watchlist**에 추가한다.
 2. Watchlist 테이블에 각 종목의 **티커(Ticker)와 이름(Name)이 항상 함께** 표시되는 것을 확인한다.
 3. '포트폴리오' 탭으로 이동한다. 화면에는 "고정인컴", "채권/현금 버퍼", "성장/배당성장" 카테고리 영역이 표시되어 있다.
 4. Watchlist에서 'JEPI' 종목을 마우스로 끌어(Drag) "고정인컴" 영역에 놓아(Drop) 포트폴리오에 추가한다.
 5. 동일한 방식으로 'AAPL'은 "성장/배당성장"에, 'TLT'는 "채권/현금 버퍼"에 추가한다.
 6. 총 투자금액(USD)을 입력하고, 각 종목의 투자 비중(%)을 할당한다.
 7. 'Calculate' 버튼을 누르자, 각 카테고리별 예상 배당금 소계와 전체 합계가 USD와 KRW로 표시되는 것을 확인한다.
 8. 완성된 포트폴리오를 'My First Portfolio'라는 이름으로 저장한다.

- **시나리오 2: 기존 사용자 (v2.0)**
 1. 프로그램을 재시작하면, 이전에 저장된 Watchlist 목록이 그대로 로드되는 것을 확인한다.
 2. '포트폴리오 비교' 탭으로 이동하여, 이전에 저장했던 'My First Portfolio'가 목록에 있는지 확인한다.
 3. 비교 탭의 포트폴리오 목록에 각 종목이 카테고리별로 그룹지어 표시되는 것을 본다.
 4. '포트폴리오' 탭으로 불러오기('Load to Portfolio Tab') 버튼을 눌러 해당 포트폴리오를 '포트폴리오' 탭으로 불러온다.
 5. '포트폴리오' 탭에서 종목의 비중을 일부 수정한 후, 다른 이름으로 저장한다.

- **시나리오 3: AI 분석**
 1. 사용자는 '포트폴리오' 탭에서 분석하고 싶은 포트폴리오를 구성하거나 불러온다.
 2. 'Gemini 어드바이저' 탭으로 이동한다.
 3. '투자 목표' 입력란에 "안정적인 월배당 흐름을 원하며, IT 기술주 비중을 높이고 싶습니다."와 같이 자신의 목표를 입력한다.
 4. '분석 요청' 버튼을 클릭한다.
 5. 잠시 후, Gemini가 현재 포트폴리오의 강점/약점, 목표에 부합하는 포트폴리오 개선 방안, 그리고 Watchlist 기반의 추천 종목을 '분석 결과' 영역에 텍스트로 제시해주는 것을 확인한다.

## 3. 주요 기능 요구사항

### 3.1. Watchlist 관리
- **종목 추가 방식**:
- **컨텍스트 메뉴**: 관심 종목 테이블에서 하나 이상의 종목을 선택하고 마우스 오른쪽 버튼을 클릭하면, '포트폴리오에 추가' 컨텍스트 메뉴가 나타난다. 사용자는 이 메뉴를 통해 선택한 모든 종목을 특정 포트폴리오 카테고리('고정인컴' 등)에 한 번에 추가할 수 있다.
- **종목 추가**:
 - 사용자는 주식/ETF의 티커(Ticker)와 국가(US/KR)를 선택하여 관심종목을 추가할 수 있다.
 - 티커 입력 후 'Add' 버튼을 클릭하거나 키보드의 'Enter' 키를 눌러 종목을 추가할 수 있다.
 - **사용자 경험(UX) 개선**:
   - **중복 방지**: 이미 관심종목에 있는 티커를 입력하면, 중복 추가를 방지하고 사용자에게 "이미 등록된 종목"이라는 알림을 표시한다.
   - **유효하지 않은 티커 처리**: 데이터 조회 실패 시(예: 존재하지 않는 티커), 해당 종목은 관심종목에 추가되지 않으며 사용자에게 경고 메시지를 표시한다.
   - **삭제 확인**: 종목 삭제 시, 정말로 삭제할 것인지 사용자에게 확인하는 대화상자를 표시한다.
   - **처리 중 표시**: 데이터 조회 중에는 'Add' 버튼이 비활성화되고 "Adding..."으로 변경되며, 마우스 커서가 대기 상태로 바뀌어 처리 중임을 명확히 표시한다.
   - **자동 스크롤**: 종목이 성공적으로 추가되면, 관심종목 테이블이 새로 추가된 항목이 보이도록 자동으로 스크롤된다.
 - 종목이 성공적으로 추가되면, 상태바(Status Bar)에 잠시 동안 성공 메시지가 표시되어야 한다.
- **종목 삭제**:
 - 사용자는 목록에서 원하는 종목들을 선택하여 삭제할 수 있다.
 - **데이터 무결성**: 삭제하려는 종목이 저장된 포트폴리오에 하나라도 포함되어 있을 경우, **뿐만 아니라 현재 '포트폴리오' 탭에서 구성 중인 포트폴리오에 포함된 경우에도,** 삭제를 방지하고 사용자에게 관련 정보를 알리는 경고 메시지를 표시해야 한다.
- **영속성**: 관심종목 목록은 각 종목의 **티커와 국가 코드를 포함**하여 프로그램 재시작 시에도 유지되어야 한다.

### 3.2. 데이터 표시 (Watchlist)
- 관심종목 목록에 있는 각 종목의 다음 정보를 표시해야 한다:
 - **Ticker**: 고유 식별자
 - **Name**: 주식의 전체 이름. **티커와 함께 항상 표시되어야 한다.**
 - **Price**: 현재가 (각국 통화 기호 포함)
 - **Annual Yield (%)**: 연간 배당률. `yfinance` 제공 값을 우선 사용하되, 값이 없을 경우 과거 12개월 배당금 합계를 현재가로 나누어 계산(TTM Yield)하는 예비 로직을 사용한다.
 - **1-Yr Total Return (%)**: (현재가 - 1년 전 주가 + 1년간 배당금 합계) / 1년 전 주가로 계산된 수익률.
 - **Last Ex-Div Date**: 최근 배당락일
 - **Last Dividend Amount**: 최근 주당 배당금
 - **Last Div Yield (%)**: 최근 배당금을 배당락일 주가 기준으로 계산한 수익률.
 - **Past Avg. Monthly Div**: 과거 월 평균 배당금. 사용자는 계산 기간을 3/6/12개월 중에서 선택할 수 있다.
- **사용자 경험**: 테이블의 모든 데이터 컬럼은 읽기 전용(Read-Only)이어야 하며, 헤더 클릭 시 정렬 기능이 제공되어야 한다.

### 3.3. 포트폴리오 관리 탭 (v2.0 신규/개선)
- **탭 분리**: 기존의 포트폴리오 구성 및 시뮬레이션 기능은 Watchlist 관리 화면에서 분리되어 독립적인 **'포트폴리오' 탭**으로 제공된다.
- **포트폴리오 카테고리**:
   - 포트폴리오를 구성하는 종목들을 다음 세 가지 카테고리로 분류하여 관리한다.
       1. **고정인컴** (Fixed Income)
       2. **채권/현금 버퍼** (Bond/Cash Buffer)
       3. **성장/배당성장** (Growth/Dividend Growth)
   - UI 상에 각 카테고리별로 종목을 담을 수 있는 별도의 영역이 시각적으로 구분되어 표시된다.
- **종목 추가/제거 (Drag and Drop UX)**:
   - 사용자는 Watchlist에 있는 종목을  오른쪽 클릭 후 표시되는 '포트폴리오' 탭의 원하는 카테고리 영역을 선택하여 포트폴리오에 추가할 수 있다.
   - 카테고리 내에 추가된 종목은 '삭제' 버튼을 통해 포트폴리오에서 제거할 수 있다.
- **투자 정보 입력**:
   - **총 투자 금액**: 총 투자 금액을 **USD 또는 KRW**로 입력할 수 있으며, 한쪽을 입력하면 다른 쪽은 환율에 맞춰 자동으로 계산 및 포맷팅된다.
   - **비중 설정**: 포트폴리오 내 각 종목의 투자 비중(%)을 개별적으로 설정할 수 있다. (0~100 사이의 숫자만 입력 가능). 소숫점 첫째자리까지 표시한다.
   - **유효성 검증**: 비중의 총합이 100%가 아닐 경우, 경고 메시지를 표시한다.
   - **비중 표시**:비중은 카테고리 영역별 비중과 카테고리 전체를 합한 비중을 표시한다.
   - **비중 합계 시각적 피드백**: 비중의 총합이 100%가 아닐 경우, 합계 텍스트를 **빨간색**으로 표시하여 시각적으로 경고한다. 100%일 경우 **녹색**으로 표시한다.
   - **종목별 투자 금액**: 포트폴리오 테이블에 종목별 투자 금액이 USD와 KRW로 함께 표시된다.
- **포트폴리오 분석 결과**:
   - 'Calculate' 버튼 클릭 시, 입력된 총 투자금액과 종목별 비중을 바탕으로 다음 정보를 계산하여 **USD와 KRW**로 함께 표시한다.
   - **카테고리별 분석**: 각 카테고리("고정인컴", "채권/현금 버퍼", "성장/배당성장")별 예상 연간/월평균 배당금 소계 및 배당률.
   - **전체 분석**: 포트폴리오 전체의 예상 연간/월평균 배당금 총계 및 배당률.
   - UI에 현재 적용된 실시간 환율 정보가 표시되어야 한다.

### 3.4. 포트폴리오 저장 및 비교 (v2.0 개선)
- **포트폴리오 저장**:
 - '포트폴리오' 탭에서 구성한 포트폴리오(카테고리 포함)를 사용자 지정 이름으로 저장할 수 있다.
- **포트폴리오 비교 탭**:
 - 저장된 모든 포트폴리오의 목록이 테이블 형태로 표시된다.
 - **카테고리별 표시**: 각 포트폴리오의 구성 종목들이 "고정인컴", "채권/현금 버퍼", "성장/배당성장" 카테고리별로 그룹지어 명확하게 표시되어야 한다.
 - **정렬 기능**: 비교 탭의 포트폴리오 목록은 '비중', '수익률', '월 수입', '연 수입' 등 각 컬럼의 헤더를 클릭하여 오름차순/내림차순으로 정렬할 수 있어야 한다.
 - **카테고리별 분석 결과**: 비교 탭의 총 투자금액을 기준으로, 각 포트폴리오의 예상 수익률 및 배당금 정보가 **카테고리별 소계와 전체 합계**로 나뉘어 표시되어야 한다.
- **포트폴리오 관리**:
 - **관리 작업 확인**: 포트폴리오 이름 변경, 삭제, 덮어쓰기 시, 사용자에게 실행 의사를 확인하는 대화상자를 표시한다.
 - 비교 탭에서 선택한 포트폴리오의 이름을 변경하거나, 목록에서 삭제할 수 있다.
 - '포트폴리오' 탭으로 다시 불러오는 기능('Load to Portfolio Tab')이 제공되어야 한다.
 - **탭 자동 전환**: '포트폴리오 비교' 탭에서 특정 포트폴리오를 '포트폴리오' 탭으로 로드할 경우, 로드가 완료되면 자동으로 '포트폴리오' 탭으로 화면을 전환한다.

### 3.5. AI 어드바이저
- **어드바이저 선택**: 사용자는 '설정' 메뉴를 통해 AI 어드바이저를 'Gemini' 또는 'ChatGPT' 중에서 선택할 수 있다. 선택된 어드바이저에 따라 분석 요청이 해당 API로 전송된다.
- **AI 분석 탭**: '포트폴리오', '포트폴리오 비교'와 독립된 'AI 어드바이저' 탭을 제공한다. (기존 'Gemini 어드바이저'에서 이름 변경)
- **분석 요청**:
 - '분석 요청' 버튼을 클릭하면, 현재 **'포트폴리오' 탭**의 포트폴리오 구성과 사용자가 입력한 투자 목표를 설정된 AI 어드바이저 API(Gemini 또는 ChatGPT)에 전송하여 분석을 요청한다.
- **투자 목표 입력**:
 - 사용자가 자신의 투자 목표, 성향 등을 자유로운 텍스트 형식으로 입력할 수 있는 입력란을 제공한다.
 - 사용자는 '설정' 메뉴를 통해 기본 투자 목표를 미리 지정할 수 있으며, 이 기본값은 AI 어드바이저 탭이 로드될 때 자동으로 입력란에 표시된다.
- **결과 표시**:
 - AI로부터 받은 포트폴리오 분석, 개선 제안, 추천 종목 등의 답변을 텍스트 형식으로 표시하는 결과 영역을 제공한다.
 - 이 결과는 Markdown 형식으로 올바르게 렌더링되어 표시되어야 한다.
 - 사용자의 질문과 AI의 답변이 시각적으로 명확하게 구분되어야 한다:
   - **사용자 질문**: 특정 색상(예: 파란색)으로 표시하여 눈에 띄게 한다.
   - **질문 번호**: 사용자 질문과 해당 AI 답변에 순차적인 번호를 적용하여 대화의 질문-답변 쌍을 쉽게 매칭할 수 있도록 한다.
 - 현재 사용 중인 AI 모델의 버전 정보(예: 'Gemini Pro', 'GPT-4')가 UI에 명확하게 표시되어야 한다.
 - **사용자 친화적 오류 메시지**: API 할당량 초과(`insufficient_quota`)와 같은 특정 오류 발생 시, 기술적인 오류 내용을 그대로 보여주는 대신 "API 할당량이 초과되었습니다. 요금제를 확인해주세요."와 같이 사용자가 이해하기 쉬운 안내 메시지를 표시해야 한다.
- **비동기 처리**: API 요청 및 응답 대기 시간 동안 UI가 멈추지 않도록 백그라운드 스레드에서 처리한다.
- **대화형 후속 질문**:
 - 초기 분석 결과를 받은 후, 사용자가 AI에게 추가 질문을 할 수 있는 채팅 인터페이스를 제공한다.
 - 채팅 입력창과 '전송' 버튼을 통해 메시지를 입력하고 전송할 수 있다.
 - 결과 영역에는 사용자의 질문과 AI의 답변이 포함된 전체 대화 내용이 시간 순서대로 기록되어야 한다.
 - AI는 이전 대화의 맥락을 기억하고 후속 질문에 답변해야 한다.
- **대화 기록 영속성**:
 - AI와의 대화 내용은 애플리케이션을 종료할 때 자동으로 저장된다.
 - 애플리케이션을 다시 시작하면, 저장된 대화 내용이 'AI 어드바이저' 탭에 자동으로 불러와져 이전 대화를 이어서 진행할 수 있다.
 - '새 분석 시작' 버튼을 클릭하면 이전 대화 기록은 삭제되고 새로운 대화가 시작된다.
 - **대화 길이 관리 (슬라이딩 윈도우)**: AI API로 전송되는 대화 기록은 AI의 컨텍스트 윈도우 제한 및 비용 효율성을 위해, 초기 분석 프롬프트와 가장 최근의 N개 대화 턴(질문-답변 쌍)으로 제한된다. (예: 초기 프롬프트 + 최근 5쌍의 메시지)
- **대화 경험(UX)**:
 - **즉각적인 질문 표시**: 사용자가 보낸 메시지는 '전송' 즉시 대화창에 표시되어야 한다.
 - **응답 대기 표시**: AI의 답변을 기다리는 동안, '응답 생성 중...'과 같은 시각적 표시기가 대화창에 나타나야 한다.
 - **응답 도착 알림**: AI의 답변이 도착하면, 상태바에 '새로운 답변이 도착했습니다.'와 같은 알림이 잠시 동안 표시되어야 한다.

### 3.6. 설정 (Settings)
- **설정 메뉴**:
 - 애플리케이션의 동작을 사용자가 직접 제어할 수 있도록 설정 메뉴를 제공한다.
- **초기 설정 항목**:
 - **AI 어드바이저 선택**: Gemini와 ChatGPT 중에서 기본으로 사용할 AI 어드바이저를 선택하고 저장할 수 있다.
 - **API 키 관리**:
   - Gemini API 키를 입력하고 저장할 수 있다.
   - ChatGPT API 키를 입력하고 저장할 수 있다.
   - DART API 키를 입력하고 저장할 수 있다.
   - 입력된 키는 보안을 위해 마스킹 처리되어 표시된다.
   - **키 유효성 검사**: 입력된 각 API 키의 유효성을 개별적으로 검사할 수 있는 '확인' 버튼을 제공한다.
 - **ChatGPT 모델 이름**: API 호출에 사용할 ChatGPT 모델의 이름을 사용자가 직접 입력하고 저장할 수 있다. (예: `gpt-4`, `gpt-3.5-turbo`)
 - **AI 어드바이저 기본 투자 목표**: 'AI 어드바이저' 탭에서 사용할 기본 투자 목표 텍스트를 저장할 수 있다.
 - **AI 어드바이저 프롬프트 템플릿**: 각 AI(Gemini, ChatGPT) 분석에 사용될 프롬프트의 기본 템플릿을 확인하고 직접 수정할 수 있다.
 - **UI/UX 개선**:
 - **레이아웃 재구성**: 설정 창의 레이아웃을 재구성하여 공간 효율성을 높인다. 예를 들어, API 키는 한 줄에 2개씩, 기본 투자 설정 금액(USD/KRW)도 한 줄에 함께 표시하여 수직 공간을 절약한다.
 - **텍스트 영역 확장**: 절약된 공간은 '기본 투자 목표'와 '프롬프트 템플릿' 입력란에 할당하여 가독성과 편집 용이성을 높이고, 내용이 길어질 경우 스크롤이 가능해야 한다.
- **설정 저장**: 모든 설정은 저장되어 프로그램 재시작 시에도 유지되어야 한다.

### 3.7. 월별 배당 시뮬레이션 및 UI/UX 개선
- **월별 배당금 시뮬레이션 (그래프)**:
   - '포트폴리오' 탭과 '포트폴리오 비교' 탭에 월별 예상 배당금 흐름을 시각적으로 보여주는 막대 그래프를 추가한다.
   - 그래프의 모든 레이블(축, 제목) 및 숫자는 한글과 현지 통화(천원 단위)에 맞춰 표시되어야 한다.
   - 그래프의 Y축 상단에 충분한 여백을 두어, 막대 위에 표시되는 숫자 값이 잘리지 않도록 한다.
- **배당 주기 정보 표시**:
   - '관심 종목' 탭에 각 종목의 배당 주기(월/분기/반기/연)와 배당 지급 월을 분석하여 표시하는 '배당 주기' 컬럼을 추가한다.
- **계산 방식 선택 기능**:
   - 사용자가 배당금 계산 방식을 두 가지 중에서 선택할 수 있도록 '포트폴리오' 탭과 '포트폴리오 비교' 탭에 콤보박스를 추가한다.
   1.  **과거 배당 이력 기반 (Historical)**: 과거 1년간 실제 지급된 배당금 내역을 기반으로 계산한다. (로직 상세 설명 참조)
   2.  **연 배당률 기반 (Yield-based)**: 데이터 소스에서 제공하는 공시 연 배당률을 기반으로 계산한다.
- **데이터 계산 로직 통일 (중요)**:
   - **목표**: 사용자가 '계산 방식'을 선택하면, **결과 테이블(수치)과 그래프(시각)가 반드시 동일한 로직으로 계산**되어야 한다. 이를 통해 데이터 불일치로 인한 혼란을 방지하고 분석의 신뢰도를 높인다.
   - **로직 상세 (Historical 모드)**: "과거 1년간 발생한 모든 배당금의 단순 합산(TTM)" 방식은 배당금 변경이나 특별 배당으로 인해 예측이 왜곡될 수 있다. 따라서 통일된 로직은 **"각 배당 지급 월(예: 3, 6, 9, 12월)의 가장 마지막 배당액을 그 달의 '대표 배당금'으로 인정하고, 이 대표 배당금들의 합계를 '연간 총액'으로 사용"**한다. 이 방식은 회사의 가장 최신 배당 정책을 반영하여 더 합리적인 예측을 제공한다.
- **UI/UX 개선**:
   - **계산 방식 동기화**: '포트폴리오 비교' 탭에서 특정 포트폴리오를 '포트폴리오' 탭으로 로드할 때, 비교 탭에서 선택했던 '계산 방식'이 포트폴리오 탭에도 동일하게 적용되어야 한다.
   - **비교 탭 레이아웃**:
       - 리스트와 그래프 영역을 분리하는 스플릿터를 적용하여 사용자가 공간 비율을 조절할 수 있게 한다. 초기 비율은 리스트 영역을 더 넓게 설정한다.
       - 수입(월간/연간) 컬럼은 원화와 달러를 두 줄로 표시하여 컬럼 폭을 최적화한다.
   - **비교 탭 사용성**:
       - 저장된 포트폴리오 목록은 기본적으로 접혀진 상태로 표시하여 전체 목록을 한눈에 파악하기 용이하게 한다.
       - 사용자가 탭을 전환했다가 돌아와도 이전에 선택(체크)했던 포트폴리오들의 선택 상태가 유지되어야 한다. (앱 최초 실행 시에만 모두 해제)
       - **포트폴리오 목록 펼침/닫힘 상태 유지**: 사용자가 포트폴리오 항목을 펼치거나 닫은 상태는 앱 세션 동안 유지되어야 하며, 다른 탭으로 이동했다가 돌아와도 그 상태가 보존된다.

### 3.8. UI/UX 공통 요구사항
- **금액 표시 형식 통일**: 모든 금액 표시에 있어, 원화(KRW)는 소수점 없는 정수로 포맷팅하고 그 외 통화(예: USD)는 소수점 2자리로 포맷팅하여 일관성을 유지한다.
- **상태바 메시지**: 데이터 로딩, 새로고침, 저장, 오류 발생 등 주요 상태 변경 시, 메인 윈도우 하단의 상태바(Status Bar)에 현재 진행 상황이나 결과에 대한 간결한 메시지를 잠시 동안 표시한다.
- **비동기 작업 중 UI 상태 변경**: 데이터 새로고침과 같이 시간이 소요되는 네트워크 작업 중에는 '새로고침' 버튼을 비활성화하고 텍스트를 '새로고침 중...'으로 변경하여, 중복 실행을 방지하고 사용자에게 처리 중임을 명확히 알린다.

## 4. 비기능적 요구사항

### 4.1. 아키텍처
- **확장성**: 비즈니스 로직(데이터 수집, 계산)과 프레젠테이션(GUI) 계층을 명확히 분리하여 설계한다.
- **모듈성**: 기능별 모듈(탭)을 분리하여 구현하고, 각 탭은 독립적으로 작동하거나 필요한 정보를 공유할 수 있어야 한다.
- **파일 경로 관리**: 모든 사용자 데이터(관심종목, 포트폴리오 등) 및 캐시 파일은 경로 관련 오류를 방지하고 안정성을 확보할 수 있도록 관리한다.
- **안정적인 종료**: 애플리케이션 종료 시, 실행 중인 모든 백그라운드 스레드(데이터 조회, AI 분석 등)가 정상적으로 중지되고 리소스가 정리되어야 한다. 이를 통해 데이터 손상이나 비정상 종료를 방지한다.

### 4.2. 데이터
- **데이터 소스**:
 - **주가 및 배당 (기본)**: `yfinance` 라이브러리 사용.
 - **한국 주식 배당 (보강)**: 한국의 DART에서 제공하는 `OpenDartReader` 라이브러리 사용. 참고 자료는 이곳이다. https://github.com/FinanceData/OpenDartReader
 - **환율**: `Frankfurter.app` API를 우선 사용하며, 실패 시 `yfinance`로 폴백.
 - **AI 분석**: `Google Gemini` API 또는 `OpenAI ChatGPT` API 사용.
- **API 키 관리**: OpenDartReader 및 Gemini API 키는 **'설정' 메뉴**를 통해 사용자가 직접 입력하며, 앱에서 안전하게 저장한다.
- **데이터 영속성**: 관심종목 및 포트폴리오 목록은 로컬 JSON 파일에 저장하여 영속성을 확보한다.
- **성능**: 데이터 조회 시 GUI가 멈추지 않도록 백그라운드 스레드를 사용하여 비동기적으로 데이터를 처리한다.
- **데이터 캐싱**: `yfinance`를 통해 조회한 주가 및 배당금 데이터는 하루(일자 기준) 동안 캐시에 저장하여, 반복적인 네트워크 요청을 최소화하고 응답 속도를 향상시킨다. 수동으로 데이터를 새로고침할 경우 이 캐시는 삭제된다.










