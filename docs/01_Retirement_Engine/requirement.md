# Requirement: Retirement Asset Management System (RAMS)

## 1. 시스템 개요 및 최종 목표
본 시스템은 사용자의 은퇴 전략을 기반으로 법인과 연금 자산의 운용 실익을 증명하고, 생애 주기별 동적 인출 및 **미래 확정적 자금 이벤트**를 반영한 시뮬레이션을 통해 "원하는 모습으로 은퇴할 수 있다"는 심리적 확신을 제공하는 것을 목표로 한다.

---

## 2. 도메인별 상세 요구사항

### [Structure 1] 자산 및 사용자 프로필 관리 (Profile & Assets)
- **[REQ-RAMS-1.1] 정밀한 사용자 프로필:**
    - 생년월일을 월 단위까지 입력받아 연금 개시 시점의 정밀도를 확보한다.
    - 개인연금 개시 연령과 국민연금 수령 연령을 분리하여 마일스톤으로 관리한다.
- **[REQ-RAMS-1.2] 계좌별 초기 자산 설정:**
    - 법인 계좌 및 **연금 계좌의 초기 자산 규모**를 사용자가 직접 설정한다. (코드 내 상수 제거)
- **[REQ-RAMS-1.3] 미래 확정 자금 이벤트 (Planned Cashflow):**
    - 향후 발생할 유입(예: 자산 매각) 및 지출(예: 대규모 비용) 계획을 복수개 등록하고 관리한다.
    - 각 항목은 발생 시점(연/월), 금액, **대상 주체(법인/연금)**, 용도를 포함한다.
- **[REQ-RAMS-1.4] 포트폴리오 매니저 통합 연동 (Portfolio Integration):**
    - 시뮬레이션 시작 시, 사용자가 저장한 실제 포트폴리오(법인/연금 구분) 데이터를 엔진의 기초 자산으로 자동 로드한다.
    - 엔진 내부의 하드코딩된 자산 수익률 가중치 대신, 로드된 포트폴리오의 종목별 기대수익률을 가중 평균하여 반영한다.

### [Structure 2] 세무 및 수익성 엔진 (Tax Engine)
- **[REQ-RAMS-2.1] 법인/개인 세무 산출:** 지역건보료, 종합소득세, 법인세를 정밀 계산한다.
- **[REQ-RAMS-2.2] 정보 출처 투명성:** 건보료 점수 단가 등 국가 정책 수치의 경우, UI에 출처(예: 국민건강보험공단)를 명시한다.

### [Structure 3] 생애 주기 인출 및 이벤트 통합 시뮬레이션
- **[REQ-RAMS-3.1] 월 단위 Phase 및 이벤트 반영:**
    - 나이와 월을 계산하여 Phase를 자동 전환하고, 해당 월에 등록된 **Planned Cashflow 이벤트를 자산 잔액에 즉시 가감**한다.
- **[REQ-RAMS-3.2] 동적 인출 알고리즘:** 인플레이션 연동 인출과 계층적 자산 매도(Tier Cascade)를 통합 수행한다.

---

## 3. UI/UX 원칙
- 모든 입력 필드는 엔터 키로 확정하며, 소수점 1자리로 자동 포맷팅한다.
- 사용자가 임의 수정한 값은 언제든 '마스터 설정값'으로 되돌릴 수 있는 리셋 기능을 제공한다.
- 미래 자금 이벤트는 리스트 형태로 추가/삭제가 가능해야 한다.
