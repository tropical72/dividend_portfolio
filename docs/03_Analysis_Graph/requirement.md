# Requirement: Analysis & Graph (03)

## [REQ-SIM-01] 월별 배당 시뮬레이션 및 시각화
- **[REQ-SIM-01.1] 막대 그래프 표시:** '포트폴리오' 및 '포트폴리오 비교' 탭에 월별 예상 배당금 흐름을 보여주는 막대 그래프 추가.
- **[REQ-SIM-01.2] 그래프 현지화:** 축(Axis), 제목, 숫자를 한글 및 현지 통화(천원 단위 등)로 표시.
- **[REQ-SIM-01.3] 레이아웃 최적화:** Y축 상단 여백을 충분히 확보하여 막대 위 숫자 값이 잘리지 않도록 구현.

## [REQ-SIM-02] 계산 방식 선택 기능
- **[REQ-SIM-02.1] 선택 인터페이스:** '포트폴리오' 및 '포트폴리오 비교' 탭에 계산 방식 선택을 위한 콤보박스(또는 드롭다운) 추가.
- **[REQ-SIM-02.2] 과거 배당 이력 기반 (Historical):** 과거 1년간 실제 지급된 내역을 기반으로 예측.
- **[REQ-SIM-02.3] 연 배당률 기반 (Yield-based):** 공시된 연 배당률 정보를 기반으로 단순 계산.
- **[REQ-SIM-02.4] 설정 동기화:** 비교 탭에서 포트폴리오를 로드할 때 선택된 '계산 방식'도 함께 동기화되어 적용.

## [REQ-SIM-03] 데이터 계산 로직 통일 (중요)
- **[REQ-SIM-03.1] 수치-시각화 일치:** 결과 테이블의 수치와 그래프의 막대 높이가 항상 동일한 로직으로 계산되어야 함.
- **[REQ-SIM-03.2] Historical 대표값 로직:** 각 배당 지급 월의 **가장 마지막 배당액**을 해당 달의 '대표 배당금'으로 인정하고 이들의 합계를 연간 총액으로 사용.

## [REQ-SIM-04] 분석 UI/UX 고도화
- **[REQ-SIM-04.1] 스플릿터(Splitter) 적용:** 비교 탭에서 리스트와 그래프 영역 사이의 비율을 사용자가 조절할 수 있도록 구현.
- **[REQ-SIM-04.2] 통화 병기 최적화:** 수입(월간/연간) 컬럼에서 원화와 달러를 두 줄로 표시하여 가독성 및 공간 효율성 확보 ([GS-UI-01] 준수).

## Related Files
- `src/frontend/main.py` (그래프 레이아웃 및 콤보박스 UI)
- `src/backend/api.py` (통합 계산 로직 및 데이터 처리)
