# Requirement: Portfolio (02)

## [REQ-PRT-01] 포트폴리오 탭 및 카테고리 구성
- **[REQ-PRT-01.1] 독립 탭 제공:** '포트폴리오' 관리를 위한 전용 탭 제공.
- **[REQ-PRT-01.2] 3단 카테고리 분류:**
    - 고정인컴 (Fixed Income)
    - 채권/현금 버퍼 (Bond/Cash Buffer)
    - 성장/배당성장 (Growth/Dividend Growth)
- **[REQ-PRT-01.3] 시각적 구분:** UI 상에서 각 카테고리 영역이 명확히 구분되어 표시되어야 함.

## [REQ-PRT-02] 종목 관리 및 UX
- **[REQ-PRT-02.1] 종목 추가 (Drag and Drop / Context Menu):**
    - Watchlist에서 종목을 우클릭하여 특정 카테고리로 추가.
    - (향후) 드래그 앤 드롭을 통한 카테고리 이동 지원.
- **[REQ-PRT-02.2] 종목 제거:** 카테고리 내 추가된 종목 옆 '삭제' 버튼을 통해 포트폴리오에서 제거.

## [REQ-PRT-03] 투자 정보 입력 및 실시간 계산
- **[REQ-PRT-03.1] 총 투자 금액 입력:** USD 또는 KRW로 입력 가능하며, 환율에 따라 상호 자동 계산 및 포맷팅 ([GS-UI-01] 준수).
- **[REQ-PRT-03.2] 종목별 비중 설정:** 0~100% 사이의 숫자 입력 (소수점 첫째자리까지 표시).
- **[REQ-PRT-03.3] 비중 합계 검증:** 
    - 비중 총합이 100%가 아닐 경우 경고 메시지 표시.
    - 합계 텍스트를 빨간색으로 표시, 100%일 경우 녹색으로 표시.
- **[REQ-PRT-03.4] 실시간 분석 결과:** 'Calculate' 버튼 클릭 시 카테고리별/전체 예상 배당금(연간/월평균) 및 배당률을 USD/KRW로 병기 표시.

## [REQ-PRT-04] 포트폴리오 저장 및 비교
- **[REQ-PRT-04.1] 저장 기능:** 구성된 포트폴리오(카테고리 정보 포함)를 사용자 지정 이름으로 저장.
- **[REQ-PRT-04.2] 비교 탭 연동:** 저장된 모든 포트폴리오 목록 표시 및 카테고리별 그룹화 표시.
- **[REQ-PRT-04.3] 데이터 로드:** 비교 탭에서 선택한 포트폴리오를 '포트폴리오' 탭으로 다시 불러오기 및 탭 자동 전환.
- **[REQ-PRT-04.4] 상태 보존:** 탭 전환 시에도 이전에 선택했던 상태 및 펼침/닫힘 상태 보존.

## Related Files
- `src/frontend/main.py` (Portfolio 탭 UI 및 레이아웃)
- `src/backend/api.py` (포트폴리오 저장/로드/계산 로직)
- `src/backend/storage.py` (portfolios.json 관리)
